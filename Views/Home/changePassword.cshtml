@model MyProject.Models.userss
@{
    Layout = "~/Views/Home/layout.cshtml";
}
 
<form name="changepass" action="/Home/ConfirmPassword" method="post">



    <fieldset>
       
        @Html.HiddenFor(model => model.UId)

        <div class="row">
            <div class="col-md-6 text-center">
                <div class="form-group">
                    <input type="password" name="oldpass" class="form-control" placeholder="Old Password  *" id="oldpass" oninput="return f2()" required />
                    <p class="help-block text-danger"></p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 text-center">
                <div class="form-group">
                    <input type="password" name="newpass" class="form-control" placeholder="New Password  *" id="newpass" required />
                    <p class="help-block text-danger"></p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 text-center">
                <div class="form-group">
                    <input type="password" name="pass" class="form-control" placeholder="Confirm Password  *" id="pass" oninput="return f3()" required />
                    <p class="help-block text-danger"></p>
                </div>
            </div>
        </div>

        <div>
            <div class="clearfix"></div>
            <div class="col-lg-12 text-center">
                <br />
                <br />
                <button type="submit" class="btn btn-xl" style="width:35%">RESET PASSWORD</button>
            </div>
        </div>
    </fieldset>
</form>


<script>
    function f1()
    {
        var uid=@Model.UId;
        var s= document.getElementById('oldpass').value;
        var s1 = document.getElementById('newpass').value;
        var s2 = document.getElementById('pass').value;
        if(@Model.Password==s)
        {
            if(s1==s2)
            {
                $.ajax({
                    url: '/Home/ConfirmPassword',
                    method: "POST",
                    success: function (data) {
                        alert(data );
                    }

                });
            }
            else
            {
                alert("Both New Password and Confirm Password Fields Must Match.");
            }
        }
        else
        {
            alert("Wrong Old Password Entered");
        }
    }

    function f2()
    {
        var str= document.getElementById['oldpass'];
        if(@Model.Password != str)
        {
            alert("Wrong Old Password Entered");
        }
        else
        {
            return true;
        }
    }

    function f3()
    {
        var str1= document.getElementById['newpass'];
        var str2= document.getElementById['pass'];
        if(str1 != str2)
        {
            alert("New Password And Confirm Password Fields do not Match");
        }
        else
        {
            return true;
        }
    }
</script>
